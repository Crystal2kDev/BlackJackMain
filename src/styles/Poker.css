/* Страница/контейнер */
.poker-page { min-height: calc(100vh - 64px); display: flex; justify-content: center; padding: 28px 12px 56px; box-sizing: border-box; color: #eaf6ff; }
.poker-container { width: 100%; max-width: 1340px; margin: 0 auto; position: relative; }
.poker-header { display: flex; justify-content: space-between; align-items: center; gap: 12px; }

/* Ошибки */
.poker-error { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); background: linear-gradient(180deg,#b91c1c,#ef4444); color:#fff; padding:8px 12px; border-radius:8px; z-index:2000; box-shadow:0 10px 28px rgba(0,0,0,.45); font-weight:800; }

/* Кнопки */
.btn { display:inline-flex; align-items:center; gap:8px; border:none; cursor:pointer; padding:12px 16px; border-radius:12px; font-weight:900; color:#fff; background:linear-gradient(180deg,#0ea5b7,#0077b6); box-shadow:0 10px 28px rgba(0,0,0,.35); transition:transform .15s, box-shadow .2s, filter .2s; }
.btn:hover{ transform:translateY(-1px); box-shadow:0 16px 36px rgba(0,0,0,.45); }
.btn:active{ transform:translateY(0); }
.big-start{ font-size:1rem; letter-spacing:.2px; }

.action-buttons{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:center; margin-top:8px; }
.action-btn{ padding:10px 14px; border-radius:10px; font-weight:900; border:none; cursor:pointer; color:#eaf6ff; box-shadow:0 8px 20px rgba(0,0,0,.35); transition:transform .15s, box-shadow .2s, filter .2s; }
.action-btn:disabled{ opacity:.45; cursor:not-allowed; filter:grayscale(.35); }
.action-btn:hover:not(:disabled){ transform:translateY(-1px); box-shadow:0 14px 32px rgba(0,0,0,.45); }
.action-btn.fold{ background:linear-gradient(180deg,#7f1d1d,#b91c1c); }
.action-btn.check{ background:linear-gradient(180deg,#065f46,#0d9488); }
.action-btn.call{ background:linear-gradient(180deg,#1f2937,#111827); }
.action-btn.raise{ background:linear-gradient(180deg,#b45309,#f59e0b); color:#1a1200; }
.action-btn.allin{ background:linear-gradient(180deg,#6d28d9,#4f46e5); }
.raise-control{ display:flex; gap:8px; align-items:center; }
.raise-input{ width:90px; padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03); color:#eaf6ff; }

/* Стол */
.poker-table{ width:100%; margin-top:34px; display:flex; justify-content:center; align-items:center; }
.poker-table--prestart{ margin-top:84px; }

/* Зелёный центр + коричневые края */
.table-oval{
  position:relative;
  width:100%;
  max-width:1150px;
  height:560px;
  border-radius:50% / 20%;
  box-shadow: inset 0 -24px 60px rgba(0,0,0,0.6), 0 18px 60px rgba(0,0,0,0.6);
  overflow: visible;
}
.table-oval::after{
  content:""; position:absolute; inset:-8px; border-radius:52% / 22%;
  background:
    radial-gradient(1100px 400px at 50% 28%, rgba(16, 250, 94, 0.06), rgba(255,255,255,0) 40%),
    radial-gradient(650px 260px at 50% 26%, #2e8b57 0%, #1f6f3f 45%, #0f4f2e 100%);
  box-shadow: inset 0 0 0 4px rgba(0,0,0,.25);
  z-index:11; pointer-events:none;
}
.table-oval::before{
  content:""; position:absolute; inset:-22px; border-radius:55% / 24%;
  background:linear-gradient(180deg,#bd7b46,#92572c), radial-gradient(600px 200px at 50% 40%, rgba(255,255,255,.06), rgba(0,0,0,0) 60%);
  box-shadow: inset 0 6px 22px rgba(255,255,255,.03), 0 22px 50px rgba(0,0,0,.7);
  z-index:10; pointer-events:none;
}

/* PNG-стол (опционально) */
.table-oval.table-oval--img{ background:url('/assets/poker_table.png') center/contain no-repeat; box-shadow:none; }
.table-oval.table-oval--img::before,
.table-oval.table-oval--img::after{ display:none; }

/* Борд */
.board-area{ position:absolute; left:50%; top:47%; transform:translate(-50%,-8%); width:52%; max-width:680px; z-index:200; pointer-events:none; text-align:center; }
.table-brand{ font-weight:900; font-size:40px; letter-spacing:6px; color:rgba(255,255,255,.04); transform:translateY(-6px); user-select:none; pointer-events:none; }
.pc-board{ background:transparent; display:flex; flex-direction:column; align-items:center; gap:10px; }
.pc-board-info{ display:flex; gap:12px; align-items:center; justify-content:center; color:#dcefe0; font-weight:700; font-size:.98rem; }
.pc-pot strong{ color:#fff; }

/* Карты борда */
.board-cards{ display:flex; gap:12px; align-items:center; justify-content:center; pointer-events:none; margin-top:6px; }

/* --- Flip (одноразовый) --- */
.card-flip { perspective: 1100px; will-change: transform; }
.card-flip-inner { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; will-change: transform; }
.card-flip.is-animating .card-flip-inner { transition: transform var(--flip-duration, 480ms) cubic-bezier(0.2,0.9,0.3,1); }
.card-face { position:absolute; width:100%; height:100%; left:0; top:0; border-radius:8px; backface-visibility:hidden; -webkit-backface-visibility:hidden; object-fit:cover; }
.card-back { transform: rotateY(0deg); }
.card-front { transform: rotateY(180deg); }

/* Сиденья */
.seat-inline{ position:absolute; width:220px; transform-origin:center; pointer-events:auto; transition:transform 220ms ease, box-shadow 220ms ease, filter .22s ease, opacity .22s ease; }
.seat-top-inline{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px; z-index:400; }
.seat-left-inline{ display:flex; gap:10px; align-items:center; }

.avatar-wrap{ width:64px; height:64px; border-radius:10px; overflow:hidden; box-shadow:0 8px 22px rgba(0,0,0,.45); }
.avatar-img{ width:100%; height:100%; object-fit:cover; display:block; }

.meta{ display:flex; flex-direction:column; gap:4px; }
.meta-name{ font-weight:800; color:#eaf6ff; font-size:.98rem; display:flex; gap:6px; align-items:center; }
.meta-name .static-id{ font-weight:700; color:#9fb6c6; font-size:.86rem; }
.meta-stack-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.meta-stack{ font-weight:800; color:#bdeedb; }

.chip-pill{ background:linear-gradient(180deg,#f59e0b,#b45309); color:#1a1200; padding:6px 10px; border-radius:999px; font-weight:900; font-size:.86rem; box-shadow:0 8px 22px rgba(180,120,20,.12); }
.dealer-pill{ background:rgba(255,255,255,.08); color:#e6fbff; padding:6px 8px; border-radius:8px; font-weight:900; font-size:.85rem; min-width:28px; text-align:center; }

.seat-cards-inline{ display:flex; gap:8px; justify-content:center; margin-bottom:8px; }
.seat-combo-inline{ text-align:center; font-weight:800; color:#cfeaff; font-size:.9rem; }

/* Таймер хода */
.turn-bar{ height:8px; background:rgba(255,255,255,.05); border-radius:999px; margin-top:10px; overflow:hidden; width:86%; margin-left:auto; margin-right:auto; }
.turn-bar-inner{ height:100%; width:0%; transition:width 120ms linear; background:linear-gradient(90deg,#0ea5e9,#0ea5b7); }

/* Активный и победитель */
.seat-inline.active-turn{ transform:translateY(-8px) scale(1.02); z-index:1200; filter:saturate(1.06); box-shadow:0 20px 48px rgba(6,120,255,.08); }
.seat-inline.seat-winner{ box-shadow:0 18px 40px rgba(255,205,85,.22), 0 6px 18px rgba(0,0,0,.45); transform:translateY(-6px) scale(1.03); border-radius:12px; animation:winner-pulse 1.6s ease-in-out infinite; }
@keyframes winner-pulse{ 0%{ box-shadow:0 18px 40px rgba(255,205,85,.18),0 6px 18px rgba(0,0,0,.45);} 50%{ box-shadow:0 24px 54px rgba(255,205,85,.28),0 8px 22px rgba(0,0,0,.45);} 100%{ box-shadow:0 18px 40px rgba(255,205,85,.18),0 6px 18px rgba(0,0,0,.45);} }

/* Плашка Winner выше ника */
.winner-badge{
  position:absolute;
  top:-32px;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(90deg,#ffd46b,#ffb84b);
  color:#1a1200;
  font-weight:900;
  padding:6px 12px;
  border-radius:999px;
  box-shadow:0 12px 30px rgba(255,180,60,.14);
  z-index:9999;
}

/* --- FOLD анимация --- */
.seat-dim{
  position:absolute; inset:-6px; border-radius:12px;
  background:rgba(0,0,0,.45);
  opacity:0; animation:dimIn .22s ease forwards;
  pointer-events:none; z-index:350;
}
@keyframes dimIn{ from{opacity:0;} to{opacity:1;} }
.seat-fold-label{
  position:absolute; left:50%; bottom:-2px; transform:translate(-50%, 10px);
  background:linear-gradient(180deg,#7f1d1d,#b91c1c); color:#fff; font-weight:900;
  padding:6px 12px; border-radius:999px; box-shadow:0 10px 24px rgba(0,0,0,.35);
  opacity:0; animation:foldPop .26s ease forwards .08s; z-index:360;
}
@keyframes foldPop{ 0%{opacity:0; transform:translate(-50%, 14px) scale(.96);} 100%{opacity:1; transform:translate(-50%, 0) scale(1);} }

/* Панель статусов */
.poker-actions{ display:flex; flex-direction:column; align-items:center; gap:12px; margin-top:26px; }
.action-info{ display:flex; gap:18px; align-items:center; justify-content:center; background:rgba(255,255,255,.02); padding:12px 14px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,.3); margin-top:2px; margin-bottom:4px; }

/* Результат-тост */
.result-toast{ position:absolute; top:8px; left:50%; transform:translateX(-50%); z-index:2200; }
.result-toast-inner{ background:linear-gradient(180deg,#0ea5b7,#0077b6); color:#fff; padding:10px 14px; border-radius:10px; font-weight:800; box-shadow:0 12px 40px rgba(0,0,0,.45); }

/* F11 подсказка */
.f11-modal-wrap{ position:fixed; right:20px; bottom:20px; z-index:3000; }
.f11-modal{ background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px 14px; color:#eaf6ff; box-shadow:0 16px 40px rgba(0,0,0,.45); max-width:320px; }
.f11-modal-title{ font-weight:900; font-size:1rem; }
.f11-modal-body{ margin-top:4px; color:#cfeaff; font-weight:700; font-size:.9rem; }
.f11-progress-bar{ height:8px; background:rgba(255,255,255,.06); border-radius:8px; overflow:hidden; margin-top:8px; }
.f11-progress-inner{ height:100%; width:100%; background:linear-gradient(90deg,#0ea5e9,#0ea5b7); }
.f11-modal-actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:8px; }
.f11-btn{ padding:6px 10px; border-radius:8px; border:none; cursor:pointer; font-weight:800; }
.f11-btn.close{ background:rgba(255,255,255,.06); color:#eaf6ff; }
.f11-btn.f11{ background:linear-gradient(180deg,#0ea5b7,#0077b6); color:#fff; }

/* Уплотнение для 9–10 игроков */
.table-oval.seats-count-9  .seat-inline,
.table-oval.seats-count-10 .seat-inline { width:180px; }
.table-oval.seats-count-10 .seat-inline .avatar-wrap { width:52px; height:52px; }
.table-oval.seats-count-10 .seat-inline .meta-name { font-size:.92rem; }
.table-oval.seats-count-10 .seat-inline .chip-pill { font-size:.82rem; padding:5px 8px; }
.table-oval.seats-count-9  .board-area { width:48%; }
.table-oval.seats-count-10 .board-area { width:46%; }

/* Адаптив */
@media (max-width:1080px){ .table-oval{ height:540px; } }
@media (max-width:900px){
  .table-oval{ height:520px; }
  .seat-inline{ width:180px; }
  .avatar-wrap{ width:56px; height:56px; }
  .action-info{ flex-direction:column; gap:8px; padding:10px; }
}
@media (max-width:720px){
  .table-oval{ height:520px; }
  .board-area{ width:78%; top:47%; transform:translate(-50%,-8%); }
  .seat-inline{ width:150px; }
  .avatar-wrap{ width:48px; height:48px; }
  .turn-bar{ width:90%; }
  .action-buttons{ gap:6px; }
  .raise-input{ width:70px; }
}